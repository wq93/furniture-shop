(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{6815:function(e,t,r){Promise.resolve().then(r.bind(r,847))},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(2265);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:u,...m}=e;return(0,n.createElement)("svg",{ref:t,...a,width:i,height:i,stroke:r,strokeWidth:c?24*Number(l)/Number(i):l,className:s("lucide",o),...m},[...u.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let r=(0,n.forwardRef)((r,a)=>{let{className:c,...o}=r;return(0,n.createElement)(l,{ref:a,iconNode:t,className:s("lucide-".concat(i(e)),c),...o})});return r.displayName="".concat(e),r}},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return i.a}});var n=r(2972),i=r.n(n)},8461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return c},getImageProps:function(){return l}});let n=r(7043),i=r(5346),s=r(5878),a=n._(r(5084));function l(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=s.Image},847:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(7437),i=r(8461),s=r.n(i),a=r(7648),l=r(9205);let c=(0,l.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),o=(0,l.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),d=(0,l.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var u=r(2381),m=r(1754),h=r(3448);function f(){let{items:e,removeItem:t,updateQuantity:r}=(0,m.x)(),i=e.reduce((e,t)=>e+t.price*t.quantity,0);return 0===e.length?(0,n.jsxs)("div",{className:"min-h-[60vh] flex flex-col items-center justify-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-light mb-4",children:"购物车是空的"}),(0,n.jsx)("p",{className:"text-gray-600 mb-8",children:"快去挑选心仪的商品吧"}),(0,n.jsx)(a.default,{href:"/collections",children:(0,n.jsx)(u.z,{variant:"outline",size:"lg",children:"继续购物"})})]}):(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsx)("h1",{className:"text-2xl font-light mb-8",children:"购物车"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,n.jsx)("div",{className:"lg:col-span-8",children:(0,n.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,n.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-white rounded-lg shadow-sm",children:[(0,n.jsx)("div",{className:"relative w-24 h-24",children:(0,n.jsx)(s(),{src:e.image,alt:e.name,fill:!0,className:"object-cover rounded"})}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("h3",{className:"text-lg font-medium",children:e.name}),(0,n.jsxs)("p",{className:"text-gray-600",children:["\xa5",e.price]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(u.z,{variant:"outline",size:"icon",className:(0,h.cn)("h-8 w-8",e.quantity<=1&&"opacity-50 cursor-not-allowed"),disabled:e.quantity<=1,onClick:()=>r(e.id,e.quantity-1),children:(0,n.jsx)(c,{className:"h-4 w-4"})}),(0,n.jsx)("span",{className:"w-8 text-center",children:e.quantity}),(0,n.jsx)(u.z,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>r(e.id,e.quantity+1),children:(0,n.jsx)(o,{className:"h-4 w-4"})})]}),(0,n.jsx)(u.z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-600",onClick:()=>t(e.id),children:(0,n.jsx)(d,{className:"h-4 w-4"})})]},e.id))})}),(0,n.jsx)("div",{className:"lg:col-span-4",children:(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,n.jsx)("h2",{className:"text-xl font-medium mb-4",children:"订单摘要"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"小计"}),(0,n.jsxs)("span",{children:["\xa5",i]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{children:"运费"}),(0,n.jsx)("span",{children:"免运费"})]}),(0,n.jsx)("div",{className:"border-t pt-2 mt-2",children:(0,n.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,n.jsx)("span",{children:"总计"}),(0,n.jsxs)("span",{children:["\xa5",i+0]})]})})]}),(0,n.jsx)(u.z,{className:"w-full mt-6",children:"结算"})]})})]})]})}},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var n=r(7437),i=r(2265),s=r(7053),a=r(535),l=r(3448);let c=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=i.forwardRef((e,t)=>{let{className:r,variant:i,size:a,asChild:o=!1,...d}=e,u=o?s.g7:"button";return(0,n.jsx)(u,{className:(0,l.cn)(c({variant:i,size:a,className:r})),ref:t,...d})});o.displayName="Button"},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var n=r(1994),i=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.m6)((0,n.W)(t))}},1754:function(e,t,r){"use strict";let n,i,s;r.d(t,{x:function(){return m}});var a=r(2265);let l=e=>{let t;let r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,s={setState:n,getState:i,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e))},a=t=e(n,i,s);return s},c=e=>e?l(e):l,o=e=>e,d=e=>{let t=c(e),r=e=>(function(e,t=o){let r=a.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return a.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},u=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>u(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>u(t)(e)}}},m=(n?d(n):d)((i=e=>({items:[],addItem:t=>e(e=>e.items.find(e=>e.id===t.id)?{items:e.items.map(e=>e.id===t.id?{...e,quantity:e.quantity+1}:e)}:{items:[...e.items,{...t,quantity:1}]}),removeItem:t=>e(e=>({items:e.items.filter(e=>e.id!==t)})),updateQuantity:(t,r)=>e(e=>({items:e.items.map(e=>e.id===t?{...e,quantity:r}:e)})),clearCart:()=>e({items:[]})}),s={name:"cart-storage"},(e,t,r)=>{let n,a={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let n=e=>null===e?null:JSON.parse(e,void 0),i=null!=(t=r.getItem(e))?t:null;return i instanceof Promise?i.then(n):n(i)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...s},l=!1,c=new Set,o=new Set,d=a.storage;if(!d)return i((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),e(...t)},t,r);let m=()=>{let e=a.partialize({...t()});return d.setItem(a.name,{state:e,version:a.version})},h=r.setState;r.setState=(e,t)=>{h(e,t),m()};let f=i((...t)=>{e(...t),m()},t,r);r.getInitialState=()=>f;let g=()=>{var r,i;if(!d)return;l=!1,c.forEach(e=>{var r;return e(null!=(r=t())?r:f)});let s=(null==(i=a.onRehydrateStorage)?void 0:i.call(a,null!=(r=t())?r:f))||void 0;return u(d.getItem.bind(d))(a.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return[!1,e.state];if(a.migrate){let t=a.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(r=>{var i;let[s,l]=r;if(e(n=a.merge(l,null!=(i=t())?i:f),!0),s)return m()}).then(()=>{null==s||s(n,void 0),n=t(),l=!0,o.forEach(e=>e(n))}).catch(e=>{null==s||s(void 0,e)})};return r.persist={setOptions:e=>{a={...a,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>l,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(o.add(e),()=>{o.delete(e)})},a.skipHydration||g(),n||f}))}},function(e){e.O(0,[615,972,878,971,117,744],function(){return e(e.s=6815)}),_N_E=e.O()}]);